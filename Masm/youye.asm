DATA SEGMENT
	TEACHER DB 11,?,11 DUP(?)
	STUDENT DB 5 DUP(0)
	MAX DB 0
	MIN DB 0
	STR1 DB 'Please input ten teachers grade: ','$'
	STR2 DB 'The first one is: ','$'
	STR3 DB 'The last one is : ','$'
	CRLF DB 0DH,0AH,'$'
DATA ENDS	
STACKS SEGMENT
	DB 100 DUP(0)
STACKS ENDS
CODE SEGMENT
	ASSUME CS:CODE,DS:DATA,ES:DATA,SS:STACKS
	
START:
	MOV AX,DATA
	MOV DS,AX
	MOV AX,STACKS
	MOV SS,AX

	MOV CX,5
ALL:
	PUSH CX	
	MOV DX,OFFSET STR1
	MOV AH,09H
	INT 21H
							
	LEA DI,TEACHER							;输入评分
	MOV CX,10
INPUT:	
	MOV AH,01H
	INT 21H
	SUB AL,30H
	MOV TEACHER[DI],AL
	INC DI
	LOOP INPUT
	
	MOV CX,10								;冒泡排序法
	DEC CX									;给每位同学的所有评分评分排序
LOOP1:
	MOV DI,CX
	MOV BX,0
LOOP2:
	MOV AL,TEACHER[BX]
	CMP AL,TEACHER[BX+1]
	JGE CONTINUE
	XCHG AL,TEACHER[BX+1]
	MOV TEACHER[BX],AL
CONTINUE:
	INC BX
	LOOP LOOP2
	MOV CX,DI
	LOOP LOOP1
;---------------------;求和并存入student中
	MOV DL,'	'
	MOV AH,02H
	INT 21H
	MOV CX,6
	MOV AL,0
	MOV SI,2	
SUM_1:
	ADC AL,TEACHER[SI]
	INC SI
	LOOP SUM_1
	POP CX
	MOV BX,5
	SUB BX,CX
	MOV STUDENT[BX],AL		;把成绩存入student数组中
	
	MOV AH,0				;求和并输出
	MOV BH,10
	DIV BH
	MOV BH,AH
	MOV DL,AL
	ADD DL,30H
	MOV AH,02H
	INT 21H
	MOV DL,BH
	ADD DL,30H
	MOV AH,02H
	INT 21H
	MOV DX,OFFSET CRLF
	MOV AH,09H
	INT 21H
	LOOP ALL
;-----------------------------;以上输入结束	
	MOV CX,5				  ;判断每人得分高低
	MOV DI,0			  
	MOV BX,0
	MOV DX,0
	MOV AL,STUDENT[DI]
	MOV MAX,AL
	MOV MIN,AL
COMPARE:
	MOV AL,STUDENT[DI]
	CMP MAX,AL
	JA L1
	MOV MAX,AL
	MOV BX,DI
L1:
	CMP MIN,AL
	JBE L2
	MOV MIN,AL
	MOV DX,DI
L2:
	INC DI
	
	LOOP COMPARE
	PUSH DX
	PUSH BX
;------------------------------;以上得分结果比较完成，输出最大数	
	MOV DX,OFFSET CRLF		   
	MOV AH,09H
	INT 21H	
	MOV DX,OFFSET STR2
	MOV AH,09H
	INT 21H
	POP BX
	MOV CX,2
L3:
	MOV AL,STUDENT[BX]
	MOV AH,0
	MOV BH,10
	DIV BH
	MOV BH,AH
	MOV DL,AL
	ADD DL,30H
	MOV AH,02H
	INT 21H
	MOV DL,BH
	ADD DL,30H
	MOV AH,02H
	INT 21H
	DEC CX
	JZ EXIT
;------------------------------;输出最小数
	MOV DX,OFFSET CRLF
	MOV AH,09H
	INT 21H
	MOV DX,OFFSET STR3
	MOV AH,09H
	INT 21H
	POP DX
	MOV BX,DX
	JMP L3
EXIT:
	MOV AH,4CH
	INT 21H	
CODE ENDS
	END START
